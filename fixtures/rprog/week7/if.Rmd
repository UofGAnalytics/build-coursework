## Logical switches: If statements

###[video, videoid="1Akkbt1aWxA", duration="7m14s"]If statements

We have already made use of logical expressions when subsetting vectors or matrices:
```{r}
x <- rnorm(10)                               # Generate ten realisation from N(0,1)
x[x<0] <- 0                                  # Set all negative x to 0
```

This week we will learn control structures which let us perform such operations in a less cryptic way.
```{r}
x <- rnorm(10)                               # Generate ten realisation from N(0,1)
x <- ifelse(x<0, 0, x)                       # Set all negative x to 0
```

Before covering the function `ifelse` we start with basic `if` statements. With `if` statements R can be programmed to take entirely different actions under different circumstances. 
`If` statements are in some way yes/no questions: depending on a condition R will either take one specified action or another one.

The basic form of an `if` statement is:

```r
if (condition) {
    statement11
    ...
    statement1m
} else {
    statement21
    ...
    statement2n
}
```
`condition` is a logical expression, i.e. a scalar expression that evaluates to  either `TRUE` or  `FALSE`.  If `condition` evaluates to `TRUE` R will run the statements in the first branch (`statement11` to `statement1m`). If however `condition` evaluates to `FALSE` then R  will run the statements in the second branch (`statement21` to `statement2n`). The second `else`-part of the `if` statement is optional. If each branch only consists of a single statement the curly brackets can be omitted.

We can use the logical operators `!`, `&` `&&`, `|` and  `||`  as well an the functions such as `all`, `any` and `xor` in `condition` to combine logical expressions. 

Note that the `condition` of an `if` statement _cannot_ be a vector (of length $>1$). If we want to carry out a conditional operation on a vector, we need to either subset it, use loops or the `ifelse` function.

It is common to indent the content of the two branches. The R interpreter ignores indentation, however properly indented code is much easier to read (for a human).


####[example]
The if statement in 
```{r}
x <- 2
if (x==2) {
  print("x is 2")
} else {
  print("x is not 2")
}
```
checks whether `x` is `2` and then prints `"x is 2`" on the screen.
####[/example]

####[example]
In this example we will set `y` to $\sqrt{x}$ if $x$ is non-negative. Otherwise we set it to $-\sqrt{-c}$.
```{r}
x <- rnorm(1)
if (x>0) {
  x <- sqrt(x)
} else {
  x <- -sqrt(-x)
}
```
This is equivalent to setting `y` to `sign(x)*sqrt(abs(x))`.
####[/example]

####[task]
Create two variables `x` and `y` containing one random number each. Use an `if` statement to set the smaller of the two variables to the value of the larger variable.
#####[answer]
You can use the following R code.
```{r}
x <- rnorm(1)
y <- rnorm(1)
if (x<y) {
    x <- y
} else {
    y <- x
}
```
The code is equivalent to setting
```{r}
x <- y <- max(x,y)
```	
#####[/answer]
####[/task]

###[weblink, target="", icon="book"]Background reading: Sections 4.1.2 of A First Course in Statistical Programming with R
Section 4.1.2 covers `if` statements.
###[/weblink]

<!--[if PDF]>
\newpage
<![endif]-->
