\documentclass[border={6pt 6pt 6pt 6pt}]{standalone}
\usepackage{mathptmx}
\DeclareMathAlphabet{\mathcal}{OMS}{cmsy}{m}{n}
\usepackage[default,scale=0.95]{lato}
\usepackage[metapost]{mfpic}
\begin{document}
\opengraphsfile{integral}
\begin{mfpic}[1.2]{-10}{170}{-10}{160}
%\tlabel[bc](170,-15){$1$}
%\tlabel[bc](-5,-15){$0$}
%\tlabel[cr](-5,150){$1$}
\tlabel[cc](85.07,101){$\frac{b-a}{7}$}
\headshape{0.75}{1}{true}
\arrow\reverse\arrow\shiftpath{(-11.43,0)}\polyline{(85.71,91),(107.14,91)}
\xmarks{10,31.43,52.86,74.29,95.71,117.14,138.57,160}
\tlabel[cl](170,5){$x$}
\tlabel[bl](3,153){$f(x)$}
\pen{.6pt}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(0,0),(21.43,0),(21.43,85.25)}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(21.43,0),(21.43,85.25),(42.86,141.96),(42.86,0)}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(42.86,0),(42.86,141.96),(64.29,27.31),(64.29,0)}
\dotted\polyline{(95.71,0),(95.71,91)}
\dotted\polyline{(74.29,0),(74.29,91)}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(64.29,0),(64.29,27.31),(85.71,27.31),(85.71,0)}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(107.14,0),(107.14,141.96),(85.71,27.31),(85.71,0)}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(128.57,0),(128.57,85.25),(107.14,141.96),(107.14,0)}
\gfill[gray(0.75)]\lclosed\dashed\shiftpath{(10,0)}\polygon{(150,0),(128.57,0),(128.57,85.25)}
\lclosed\shiftpath{(10,0)}\curve{(0,0),(1.5,0.08),(3,0.63),(4.5,1.98),(6,4.36),(7.5,7.9),(9,12.65),(10.5,18.57),(12,25.61),(13.5,33.62),(15,42.47),(16.5,51.96),(18,61.91),(19.5,72.11),(21,82.36),(22.5,92.44),(24,102.18),(25.5,111.38),(27,119.89),(28.5,127.54),(30,134.22),(31.5,139.81),(33,144.24),(34.5,147.43),(36,149.36),(37.5,150),(39,149.36),(40.5,147.48),(42,144.39),(43.5,140.16),(45,134.87),(46.5,128.63),(48,121.54),(49.5,113.73),(51,105.32),(52.5,96.46),(54,87.28),(55.5,77.93),(57,68.56),(58.5,59.32),(60,50.33),(61.5,41.74),(63,33.68),(64.5,26.27),(66,19.61),(67.5,13.8),(69,8.93),(70.5,5.06),(72,2.26),(73.5,0.57),(75,0),(76.5,0.57),(78,2.26),(79.5,5.06),(81,8.93),(82.5,13.8),(84,19.61),(85.5,26.27),(87,33.68),(88.5,41.74),(90,50.33),(91.5,59.32),(93,68.56),(94.5,77.93),(96,87.28),(97.5,96.46),(99,105.32),(100.5,113.73),(102,121.54),(103.5,128.63),(105,134.87),(106.5,140.16),(108,144.39),(109.5,147.48),(111,149.36),(112.5,150),(114,149.36),(115.5,147.43),(117,144.24),(118.5,139.81),(120,134.22),(121.5,127.54),(123,119.89),(124.5,111.38),(126,102.18),(127.5,92.44),(129,82.36),(130.5,72.11),(132,61.91),(133.5,51.96),(135,42.47),(136.5,33.62),(138,25.61),(139.5,18.57),(141,12.65),(142.5,7.9),(144,4.36),(145.5,1.98),(147,0.63),(148.5,0.08),(150,0)}
\fillcolor{black}
\headshape{0.75}{1}{true}
\pen{.3pt}\axes
\tlabel[bc](0,-15){$a=x_0$}
\tlabel[bc](31.43,-15){$x_1$}
\tlabel[bc](52.86,-15){$x_2$}
\tlabel[bc](74.29,-15){$x_3$}
\tlabel[bc](95.71,-15){$x_4$}
\tlabel[bc](117.14,-15){$x_5$}
\tlabel[bc](138.57,-15){$x_6$}
\tlabel[bc](170,-15){$x_7=b$}
\end{mfpic}
\closegraphsfile
\end{document}
